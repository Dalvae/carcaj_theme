{"version":3,"sources":["main.min.js","advertising.js","footnotes.js","progressbar.js","scripts.js"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","$","debug","messages","getQueryString","undefined","console","group","log","forEach","message","info","groupEnd","slotsLoaded","location","host","pathname","googletag","cmd","push","pubads","enableSingleRequest","enableServices","addEventListener","e","isEmpty","slot","getSlotElementId","getResponseInformation","jQuery","document","tooltip","createElement","isMobile","window","innerWidth","getFootnoteText","element","clone","parentNode","cloneNode","footnoteNumber","querySelector","remove","querySelectorAll","link","supElement","innerHTML","trim","replace","className","body","appendChild","href","getAttribute","targetId","substring","startsWith","footnoteContent","getElementById","eventTarget","tagName","isInFootnotes","includes","preventDefault","stopPropagation","nextElement","nextElementSibling","classList","contains","add","setTimeout","el","noteText","expandedNote","insertAdjacentElement","offsetHeight","requestAnimationFrame","style","maxHeight","scrollHeight","display","rect","getBoundingClientRect","scrollTop","pageYOffset","documentElement","left","viewportWidth","viewportHeight","innerHeight","tooltipWidth","offsetWidth","tooltipHeight","Math","max","spaceBelow","bottom","spaceAbove","top","concat","positionTooltip","target","scrollIntoView","behavior","bar","_bar$parentElement$ge","parentElement","visualViewport","width","progressBar","updateProgressBar","currentViewportWidth","maxWidth","totalScroll","progress","scrollY","progressWidth","min","insertBefore","firstChild","ticking","passive","ready","click","slideToggle","find","toggleClass","slick","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","prevArrow","nextArrow","wrapAll","addClass","scroll","load","resize"],"mappings":"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","file":"main.min.js","sourcesContent":["function _typeof(e){return _typeof=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},_typeof(e)}!function(e){function t(e){return\"true\"===getQueryString(\"ads-debug\")&&(void 0!==(\"undefined\"==typeof console?\"undefined\":_typeof(console))&&(\"function\"==typeof console.group?console.group(\"*** ADVERTISING DEBUG  *** \"):console.log(\"*** ADVERTISING DEBUG  *** \"),e.forEach((function(e){\"functon\"==typeof console.info?console.info(e):console.log(e)})),void(\"function\"==typeof console.groupEnd&&console.groupEnd())))}e((function(){var e;location.host,location.pathname,e=[],googletag.cmd.push((function(){googletag.pubads().enableSingleRequest(),googletag.enableServices(),googletag.pubads().addEventListener(\"slotRenderEnded\",(function(o){o.isEmpty?t([\"slot \"+o.slot.getSlotElementId()+\" came empty\"]):(e.push(o.slot.getSlotElementId()),t([o.slot.getSlotElementId(),o.slot.getResponseInformation()]))}))}))}))}(jQuery),document.addEventListener(\"DOMContentLoaded\",(function(){var e=document.createElement(\"div\");function t(){return window.innerWidth<=1e3}function o(e){var t=e.parentNode.cloneNode(!0),o=t.querySelector('a[id^=\"sdfootnote\"], a[id^=\"_ftn\"]');o&&o.remove(),t.querySelectorAll('a[href^=\"#sdfootnote\"], a[href^=\"#_ftnref\"]').forEach((function(e){return e.remove()}));var n=t.querySelector(\"sup\");return n&&n.remove(),t.innerHTML.trim().replace(/^\\s*\\[\\d+\\]\\s*/,\"\").replace(/^\\s*\\d+\\s*/,\"\")}e.className=\"footnote-tooltip\",document.body.appendChild(e),document.querySelectorAll('.content-full sup a[href^=\"#sdfootnote\"], .content-full a[href^=\"#_ftn\"] sup').forEach((function(n){var i=n.getAttribute(\"href\")||n.parentNode.getAttribute(\"href\"),r=i.substring(1);r.startsWith(\"sdfootnote\")&&(r=r.replace(\"anc\",\"sym\"));var s=document.getElementById(r);if(s){var l=\"SUP\"===n.tagName?n.parentNode:n,a=i.includes(\"_ftnref\")||i.includes(\"sdfootnoteanc\");t()&&!a?l.addEventListener(\"click\",(function(e){e.preventDefault(),e.stopPropagation();var t=l.nextElementSibling;if(null!=t&&t.classList.contains(\"expanded-footnote\"))return t.classList.add(\"removing\"),t.classList.remove(\"entering\"),void setTimeout((function(){return t.remove()}),200);document.querySelectorAll(\".expanded-footnote\").forEach((function(e){e.classList.add(\"removing\"),e.classList.remove(\"entering\"),setTimeout((function(){return e.remove()}),200)}));var n=o(s),i=document.createElement(\"div\");i.className=\"expanded-footnote\",i.innerHTML=n,l.insertAdjacentElement(\"afterend\",i),i.offsetHeight,requestAnimationFrame((function(){i.classList.add(\"entering\"),i.style.maxHeight=i.scrollHeight+\"px\"})),i.addEventListener(\"click\",(function(e){e.preventDefault(),e.stopPropagation(),i.classList.add(\"removing\"),i.classList.remove(\"entering\"),setTimeout((function(){return i.remove()}),200)}))})):t()||(l.addEventListener(\"mouseover\",(function(t){var n=o(s);e.innerHTML=n,e.style.display=\"block\",function(e,t){var o=e.getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop,i=o.left,r=window.innerWidth,s=window.innerHeight,l=t.offsetWidth,a=t.offsetHeight;i+l>r&&(i=r-l-20),i=Math.max(10,i);var d=s-o.bottom,c=o.top,u=d<a&&c>a?o.top+n-a-5:o.bottom+n+5;t.style.left=\"\".concat(i,\"px\"),t.style.top=\"\".concat(u,\"px\")}(l,e)})),l.addEventListener(\"mouseout\",(function(){e.style.display=\"none\"})),l.addEventListener(\"click\",(function(e){var t=document.getElementById(r);t&&(e.preventDefault(),t.scrollIntoView({behavior:\"smooth\"}))})))}}))})),document.addEventListener(\"DOMContentLoaded\",(function(){document.querySelectorAll(\".progress-bar, .progress-bar-container\").forEach((function(e){var t;null!==(t=e.parentElement.getAttribute(\"style\"))&&void 0!==t&&t.includes(\"position: fixed\")?e.parentElement.remove():e.remove()}));var e=window.visualViewport?window.visualViewport.width:window.innerWidth;console.log(\"Viewport width:\",e);var t=document.createElement(\"div\");function o(){requestAnimationFrame((function(){var e=window.visualViewport?window.visualViewport.width:window.innerWidth;t.style.maxWidth=\"\".concat(e,\"px\");var o=window.innerHeight,n=document.documentElement.scrollHeight-o,i=window.scrollY/n*100,r=e*Math.min(i,100)/100;t.style.width=\"\".concat(r,\"px\"),console.log({viewportWidth:e,progressWidth:r,progress:\"\".concat(i,\"%\")})}))}t.className=\"progress-bar\",t.style.maxWidth=\"\".concat(e,\"px\"),document.body.insertBefore(t,document.body.firstChild);var n=!1;window.addEventListener(\"scroll\",(function(){n||(window.requestAnimationFrame((function(){o(),n=!1})),n=!0)}),{passive:!0}),window.addEventListener(\"resize\",o),window.addEventListener(\"orientationchange\",o),window.visualViewport&&(window.visualViewport.addEventListener(\"resize\",o),window.visualViewport.addEventListener(\"scroll\",o)),o()})),function(e){e(document).ready((function(){e(\"button#menuMore\").click((function(){e(\"section.menu-desktop\").slideToggle(\"fast\",(function(){})),e(\"button#menuMore\").find(\"i\").toggleClass(\"fa-bars fa-times\")})),e(\"button#mobileNav\").click((function(){e(\".col.right\").slideToggle(\"fast\",(function(){})),e(\"button#mobileNav\").find(\"i\").toggleClass(\"fa-bars fa-times\")})),e(\".sliderHome\").slick({slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:4e3,prevArrow:e(\".prevArrow\"),nextArrow:e(\".nextArrow\")}),e(\".comment-notes, .logged-in-as, .comment-form-comment\").wrapAll(e(\"<div>\").addClass(\"wrap-left\")),e(\".comment-form-author, .comment-form-email, .comment-form-url, .comment-form-cookies-consent, .form-submit\").wrapAll(e(\"<div>\").addClass(\"wrap-right\"))})),e(window).scroll((function(){})),e(window).load((function(){})),e(window).resize((function(){}))}(window.jQuery);\n//# sourceMappingURL=main.min.js.map\n","(function($) {\n\tvar config = {};\n\n\tfunction getConfig() {\n\t\t\tvar currentUrl = location.host + location.pathname;\n\t\t\tvar config = {\n\t\t\t\t//add your custom config here\n\t\t\t};\n\n\t\t\treturn config;\n\t}\n\n\tfunction isMobile() {\n\t\t\treturn navigator.userAgent.match(/Android/i) ||\n\t\t\t\t\tnavigator.userAgent.match(/webOS/i) ||\n\t\t\t\t\tnavigator.userAgent.match(/iPhone/i) ||\n\t\t\t\t\tnavigator.userAgent.match(/iPad/i) ||\n\t\t\t\t\tnavigator.userAgent.match(/iPod/i) ||\n\t\t\t\t\tnavigator.userAgent.match(/BlackBerry/i) ||\n\t\t\t\t\tnavigator.userAgent.match(/Windows Phone/i) ||\n\t\t\t\t\twindow.innerWidth < 1024\n\t}\n\n\n\tfunction debug(messages) {\n\t\t\tif (getQueryString('ads-debug') !== 'true') {\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (typeof console === undefined) {\n\t\t\t\t\treturn false\n\t\t\t}\n\n\t\t\ttypeof console.group === 'function' ? console.group('*** ADVERTISING DEBUG  *** ') : console.log('*** ADVERTISING DEBUG  *** ');\n\n\t\t\tmessages.forEach(function(message) {\n\t\t\t\t\ttypeof console.info === 'functon' ? console.info(message) : console.log(message);\n\t\t\t})\n\n\t\t\ttypeof console.groupEnd === 'function' && console.groupEnd();\n\t}\n\n\tfunction createSlot(adunit, sizes, id, outOfPage){\n\t\tif(outOfPage){\n\t\t\treturn googletag.defineOutOfPageSlot(adunit, id).addService(googletag.pubads());\n\t\t}else{\n\t\t\treturn googletag.defineSlot(adunit, sizes, id).addService(googletag.pubads());\n\t\t}\n\t}\n\n\tfunction buildSlots(config, callback) {\n\t\t\tvar slotsLoaded = [];\n\t\t\tvar slots = {};\n\n\t\t\tgoogletag.cmd.push(function() {\n\t\t\t\t\t//add your slots here\n\n\t\t\t\t\t/*\n\t\t\t\t\t\tslots.adTop = createSlot('123123123/SOME_AD_UNIT', [[320, 50], [320, 100]], 'ad-top');\n\t\t\t\t\t*/\n\n\t\t\t\t\t/* add your targeting here too\n\n\t\t\t\t\tgoogletag.pubads().setTargeting('demo', config.demo);\n\t\t\t\t\tgoogletag.pubads().setTargeting('seccion', config.pagetype);\n\n\t\t\t\t\t*/\n\n\t\t\t\t\tgoogletag.pubads().enableSingleRequest();\n\t\t\t\t\tgoogletag.enableServices();\n\n\t\t\t\t\tgoogletag.pubads().addEventListener('slotRenderEnded', function(e) {\n\t\t\t\t\t\t\tif (!e.isEmpty) {\n\t\t\t\t\t\t\t\t\tslotsLoaded.push(e.slot.getSlotElementId());\n\t\t\t\t\t\t\t\t\tdebug([e.slot.getSlotElementId(), e.slot.getResponseInformation()])\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdebug(['slot ' + e.slot.getSlotElementId() + ' came empty'])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t}\n\n\t$(function(){\n\t\tconfig = getConfig();\n\t\tbuildSlots(config);\n\t})\n\n})(jQuery)\n","document.addEventListener(\"DOMContentLoaded\", () => {\n  const tooltip = document.createElement(\"div\");\n  tooltip.className = \"footnote-tooltip\";\n  document.body.appendChild(tooltip);\n\n  function isMobile() {\n    return window.innerWidth <= 1000;\n  }\n\n  function getFootnoteText(element) {\n    const parent = element.parentNode;\n    const clone = parent.cloneNode(true);\n\n    const footnoteNumber = clone.querySelector(\n      `a[id^=\"sdfootnote\"], a[id^=\"_ftn\"]`\n    );\n    if (footnoteNumber) footnoteNumber.remove();\n\n    const returnLinks = clone.querySelectorAll(\n      `a[href^=\"#sdfootnote\"], a[href^=\"#_ftnref\"]`\n    );\n    returnLinks.forEach((link) => link.remove());\n\n    const supElement = clone.querySelector(\"sup\");\n    if (supElement) supElement.remove();\n\n    return clone.innerHTML\n      .trim()\n      .replace(/^\\s*\\[\\d+\\]\\s*/, \"\")\n      .replace(/^\\s*\\d+\\s*/, \"\");\n  }\n\n  function positionTooltip(element, tooltip) {\n    const rect = element.getBoundingClientRect();\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    let left = rect.left;\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n    const tooltipWidth = tooltip.offsetWidth;\n    const tooltipHeight = tooltip.offsetHeight;\n\n    if (left + tooltipWidth > viewportWidth) {\n      left = viewportWidth - tooltipWidth - 20;\n    }\n    left = Math.max(10, left);\n\n    const spaceBelow = viewportHeight - rect.bottom;\n    const spaceAbove = rect.top;\n    const showAbove = spaceBelow < tooltipHeight && spaceAbove > tooltipHeight;\n\n    const top = showAbove\n      ? rect.top + scrollTop - tooltipHeight - 5\n      : rect.bottom + scrollTop + 5;\n\n    tooltip.style.left = `${left}px`;\n    tooltip.style.top = `${top}px`;\n  }\n\n  const footnoteLinks = document.querySelectorAll(\n    '.content-full sup a[href^=\"#sdfootnote\"], .content-full a[href^=\"#_ftn\"] sup'\n  );\n\n  footnoteLinks.forEach((link) => {\n    const href =\n      link.getAttribute(\"href\") || link.parentNode.getAttribute(\"href\");\n    let targetId = href.substring(1);\n\n    if (targetId.startsWith(\"sdfootnote\")) {\n      targetId = targetId.replace(\"anc\", \"sym\");\n    }\n\n    const footnoteContent = document.getElementById(targetId);\n    if (!footnoteContent) return;\n\n    const eventTarget = link.tagName === \"SUP\" ? link.parentNode : link;\n\n    // Verificar si estamos en las notas al pie\n    const isInFootnotes =\n      href.includes(\"_ftnref\") || href.includes(\"sdfootnoteanc\");\n\n    if (isMobile() && !isInFootnotes) {\n      eventTarget.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const nextElement = eventTarget.nextElementSibling;\n\n        // Si ya existe una nota expandida, la removemos\n        if (nextElement?.classList.contains(\"expanded-footnote\")) {\n          nextElement.classList.add(\"removing\");\n          nextElement.classList.remove(\"entering\");\n          // Removemos después de la animación de opacidad\n          setTimeout(() => nextElement.remove(), 200);\n          return;\n        }\n\n        // Remover cualquier otra nota expandida\n        document.querySelectorAll(\".expanded-footnote\").forEach((el) => {\n          el.classList.add(\"removing\");\n          el.classList.remove(\"entering\");\n          setTimeout(() => el.remove(), 200);\n        });\n\n        // Crear y agregar la nueva nota\n        const noteText = getFootnoteText(footnoteContent);\n        const expandedNote = document.createElement(\"div\");\n        expandedNote.className = \"expanded-footnote\";\n        expandedNote.innerHTML = noteText;\n\n        // Insertar después del eventTarget\n        eventTarget.insertAdjacentElement(\"afterend\", expandedNote);\n\n        // Forzar reflow\n        expandedNote.offsetHeight;\n\n        // Iniciar animación de entrada\n        requestAnimationFrame(() => {\n          expandedNote.classList.add(\"entering\");\n          expandedNote.style.maxHeight = expandedNote.scrollHeight + \"px\";\n        });\n\n        // Evento click para cerrar\n        expandedNote.addEventListener(\"click\", (e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          expandedNote.classList.add(\"removing\");\n          expandedNote.classList.remove(\"entering\");\n          setTimeout(() => expandedNote.remove(), 200);\n        });\n      });\n    } else if (!isMobile()) {\n      // Comportamiento desktop sin cambios\n      eventTarget.addEventListener(\"mouseover\", (e) => {\n        const noteText = getFootnoteText(footnoteContent);\n        tooltip.innerHTML = noteText;\n        tooltip.style.display = \"block\";\n        positionTooltip(eventTarget, tooltip);\n      });\n\n      eventTarget.addEventListener(\"mouseout\", () => {\n        tooltip.style.display = \"none\";\n      });\n\n      eventTarget.addEventListener(\"click\", (e) => {\n        const target = document.getElementById(targetId);\n        if (target) {\n          e.preventDefault();\n          target.scrollIntoView({ behavior: \"smooth\" });\n        }\n      });\n    }\n  });\n});\n","document.addEventListener(\"DOMContentLoaded\", () => {\n  // Remover barras existentes\n  const existingBars = document.querySelectorAll(\n    \".progress-bar, .progress-bar-container\"\n  );\n  existingBars.forEach((bar) => {\n    if (bar.parentElement.getAttribute(\"style\")?.includes(\"position: fixed\")) {\n      bar.parentElement.remove();\n    } else {\n      bar.remove();\n    }\n  });\n\n  // Obtener el ancho del viewport antes de crear la barra\n  const viewportWidth = window.visualViewport\n    ? window.visualViewport.width\n    : window.innerWidth;\n  console.log(\"Viewport width:\", viewportWidth); // Debug\n\n  // Crear la barra con el ancho máximo establecido\n  const progressBar = document.createElement(\"div\");\n  progressBar.className = \"progress-bar\";\n  progressBar.style.maxWidth = `${viewportWidth}px`;\n  document.body.insertBefore(progressBar, document.body.firstChild);\n\n  function updateProgressBar() {\n    requestAnimationFrame(() => {\n      // Actualizar el ancho máximo en cada cambio\n      const currentViewportWidth = window.visualViewport\n        ? window.visualViewport.width\n        : window.innerWidth;\n      progressBar.style.maxWidth = `${currentViewportWidth}px`;\n\n      const viewportHeight = window.innerHeight;\n      const totalScroll =\n        document.documentElement.scrollHeight - viewportHeight;\n      const currentScroll = window.scrollY;\n      const progress = (currentScroll / totalScroll) * 100;\n\n      // Aplicar el progreso como porcentaje del viewport width\n      const progressWidth =\n        (currentViewportWidth * Math.min(progress, 100)) / 100;\n      progressBar.style.width = `${progressWidth}px`;\n\n      // Debug\n      console.log({\n        viewportWidth: currentViewportWidth,\n        progressWidth,\n        progress: `${progress}%`,\n      });\n    });\n  }\n\n  let ticking = false;\n  window.addEventListener(\n    \"scroll\",\n    () => {\n      if (!ticking) {\n        window.requestAnimationFrame(() => {\n          updateProgressBar();\n          ticking = false;\n        });\n        ticking = true;\n      }\n    },\n    { passive: true }\n  );\n\n  // Actualizar cuando cambie el tamaño de la ventana\n  window.addEventListener(\"resize\", updateProgressBar);\n  window.addEventListener(\"orientationchange\", updateProgressBar);\n\n  // Usar VisualViewport API para mayor precisión en móviles\n  if (window.visualViewport) {\n    window.visualViewport.addEventListener(\"resize\", updateProgressBar);\n    window.visualViewport.addEventListener(\"scroll\", updateProgressBar);\n  }\n\n  updateProgressBar();\n});\n","// remap jQuery to $\n(function($) {\n\n    $(document).ready(function() {\n\n        $(\"button#menuMore\").click(function() {\n            $(\"section.menu-desktop\").slideToggle(\"fast\", function() {});\n            $(\"button#menuMore\").find('i').toggleClass('fa-bars fa-times');\n        });\n\n        $(\"button#mobileNav\").click(function() {\n            $(\".col.right\").slideToggle(\"fast\", function() {});\n            $(\"button#mobileNav\").find('i').toggleClass('fa-bars fa-times');\n        });\n\n        // HOME SLIDER\n        $('.sliderHome').slick({\n            slidesToShow: 1,\n            slidesToScroll: 1,\n            autoplay: true,\n            autoplaySpeed: 4000,\n            prevArrow: $('.prevArrow'),\n            nextArrow: $('.nextArrow'),\n        });\n\n\n        // COMMENTS TRICKS\n\n        $('.comment-notes, .logged-in-as, .comment-form-comment').wrapAll($('<div>').addClass('wrap-left'));\n\n        $('.comment-form-author, .comment-form-email, .comment-form-url, .comment-form-cookies-consent, .form-submit').wrapAll($('<div>').addClass('wrap-right'));\n        \n\n    });\n\n    $(window).scroll(function() {\n\n    });\n\n    $(window).load(function() {\n\n    });\n\n    $(window).resize(function() {\n\n    });\n\n})(window.jQuery);"]}